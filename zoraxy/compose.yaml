services:
  zoraxy:
    container_name: zoraxy
    hostname: zoraxy
    image: zoraxydocker/zoraxy:latest
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    ports:
      - 801:80
      - 4431:443
      - 8000:8000
    volumes:
      - /mnt/cache/appdata/zoraxy:/opt/zoraxy/config
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      FASTGEOIP: "true"
      ZEROTIER: "true"
    networks:
      - frontend
      - backend
    labels:
      - net.unraid.docker.managed=composeman
      - net.unraid.docker.webui=http://[IP]:[PORT:8000]/files/
      - net.unraid.docker.icon=https://raw.githubusercontent.com/PlazzmiK/unraid_templates/main/images/zoraxy.png
      - net.unraid.docker.shell=sh
networks:
  frontend:
    external: true
  backend:
    external: true
